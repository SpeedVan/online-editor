<!DOCTYPE html>
<html lang="en">

<head>
    <title>React</title>

    <script type="text/javascript" src="https://cdn.staticfile.org/monaco-editor/0.20.0/min/vs/loader.js"></script>
    <script crossorigin src="https://cdn.staticfile.org/monaco-editor/0.20.0/min/vs/editor/editor.main.js" defer></script>
</head>

<body>
    <div id="app"></div>

</body>
<script>
    require.config({ paths: {
        'vs': 'https://cdn.staticfile.org/monaco-editor/0.20.0/min/vs',
    }});

    
    // Before loading vs/editor/editor.main, define a global MonacoEnvironment that overwrites
    // the default worker url location (used when creating WebWorkers). The problem here is that
    // HTML5 does not allow cross-domain web workers, so we need to proxy the instantiation of
    // a web worker through a same-domain script
    // window.MonacoEnvironment = {
    //     getWorkerUrl: function(workerId, label) {
    //         return "monaco-editor-worker-loader-proxy.js"
    //     }
    // };
    let proxy = URL.createObjectURL(new Blob([`
        self.MonacoEnvironment = {
            baseUrl: 'https://cdn.staticfile.org/monaco-editor/0.20.0/min/'
        };
        importScripts('https://cdn.staticfile.org/monaco-editor/0.20.0/min/vs/base/worker/workerMain.js');
    `], { type: 'text/javascript' }));

    window.MonacoEnvironment = { getWorkerUrl: () => proxy };
</script>
</html>